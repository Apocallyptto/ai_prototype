ALPACA_API_KEY=PKA6F23FA4LNXAURY9JF
ALPACA_API_SECRET=4kemL0Ubaplgw4DP4CSPJFvUQmm7FCLvvXEyzQDs
# Broker base (leave as default for paper):
APCA_API_BASE_URL=https://paper-api.alpaca.markets

# DB URLs (some tools use DATABASE_URL, others DB_URL)
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/trader
DB_URL=postgresql://postgres:postgres@postgres:5432/trader

# Risk / OCO config
TP_ATR_MULT=1.5
SL_ATR_MULT=1.0
ATR_PERIOD=14
ATR_LOOKBACK_DAYS=30
# === Weekly auto-retrain ===
ENABLE_WEEKLY_RETRAIN=1
RETRAIN_DAY=SUN                 # MON/TUE/WED/THU/FRI/SAT/SUN
RETRAIN_HOUR=23                 # 0..23 (local tz below)
RETRAIN_MINUTE=0
RETRAIN_TZ=Europe/Bratislava
RETRAIN_WINDOW_MINUTES=20       # allow a +-10 min window
RETRAIN_MIN_GAP_DAYS=6          # at least 6 days between trainings
# === Trailing ATR exits ===
TRAIL_ENABLE=1
TRAIL_TRIGGER_ATR=0.5
TRAIL_MULT_ATR=1.0
TRAIL_PERIOD=14
TRAIL_LOOKBACK_DAYS=30
TRAIL_NEVER_BELOW_ENTRY=1
# Executor defaults (picked up when no CLI flags are passed)
EXEC_MIN_STRENGTH=0.50
EXEC_SINCE_MIN=20
SYMBOLS=AAPL,MSFT,SPY,NVDA,AMD
# executor thresholds
EXEC_MIN_STRENGTH=0.50
EXEC_SINCE_MIN=20

# risk sizing
RISK_PER_TRADE_USD=50
MIN_ACCOUNT_BP_USD=100

# share policy
FRACTIONAL=0
LONG_ONLY=0          # set 1 if you want no shorts
ALLOW_FRACTIONAL_SHORTS=0
MIN_QTY=0.01
# --- Execution precision / liquidity ---
MAX_SPREAD_PCT=0.15          # skip if (ask-bid)/mid > 0.15%   (tune 0.10–0.25)
MAX_SPREAD_ABS=0.06          # also skip if absolute spread > 6 cents (penny stocks → raise)
QUOTE_PRICE_SLIPPAGE=0.02    # safety bump in $ for limit vs quote (e.g., +$0.02 for buys)

# --- Partial fills & stale order handling ---
PARTIAL_MAX_AGE_SEC=300      # 5 min: if not done, we’ll cancel the remainder
REPRICE_AFTER_SEC=180        # 3 min: if still open, cancel + resubmit at fresh quote
REPRICE_MAX_TRIES=2          # don’t keep chasing

