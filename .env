# === Alpaca credentials ===
ALPACA_API_KEY=PKANYHN7D4FPBE5IGLDLO75GBH
ALPACA_API_SECRET=B71qFadz7DmJrGHSNvKzfa71LaByYaPwCKgxTQyNZtwp
ALPACA_BASE_URL=https://paper-api.alpaca.markets
ALPACA_DATA_URL=https://data.alpaca.markets
TRADING_MODE=paper

# === DB (lokálny postgres kontajner) ===
DB_URL=postgresql+psycopg2://postgres:postgres@postgres:5432/trader
PORTFOLIO_ID=1
SYMBOLS=AAPL,MSFT,SPY

# === Thresholdy ===
MAKER_MIN_STRENGTH=0.20
EXEC_MIN_STRENGTH=0.60
CRON_SLEEP_SECONDS=180
POLL_SECONDS=20

# === Short / position policy ===
# 1 = povol shorty (SELL bez long pozície otvorí short)
ALLOW_SHORT=1
# 1 = iba long (SELL len zatvára long, nikdy neotvorí short)
LONG_ONLY=0

# Alpaca typicky NEpodporuje fractional short -> nechaj 0
ALLOW_FRACTIONAL_SHORTS=0

# fractional pre long BUY (ak chceš malé qty)
FRACTIONAL=1
MIN_QTY=0.01

# 0 = neobchoduj mimo market hours
ALLOW_AFTER_HOURS=0

# 1 = keď zatvárame pozíciu, použi MARKET
CLOSE_WITH_MARKET=1

# === Risk / sizing ===
ATR_PCT=0.01
TP_ATR_MULT=1.0
SL_ATR_MULT=1.0

MAX_RISK_PER_TRADE_USD=30
MAX_NOTIONAL_PER_TRADE_USD=1200
MAX_QTY_PER_TRADE=5
MAX_BP_PCT_PER_TRADE=0.25

INSUFFICIENT_COOLDOWN_SECONDS=900

# daily risk guard
ENABLE_DAILY_RISK_GUARD=0
MAX_DAILY_LOSS_USD=200
MAX_DRAWDOWN_PCT=2.0

# === Sync/PnL poll ===
SYNC_ORDERS_SLEEP_SECONDS=15
PNL_SLEEP_SECONDS=30

# === Exit monitor ===
EXIT_MONITOR_POLL_SECONDS=5
